<div class="container">
  <form [formGroup]="taskForm">
    <div class="titlewrap">
      <p>{{ dataService.task.title }}</p>
      <!-- edit task svg -->
      <svg
        (click)="dataService.toggleTaskMenu()"
        width="5"
        height="20"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g fill="#828FA3" fill-rule="evenodd">
          <circle cx="2.308" cy="2.308" r="2.308" />
          <circle cx="2.308" cy="10" r="2.308" />
          <circle cx="2.308" cy="17.692" r="2.308" />
        </g>
      </svg>

      <!-- float menu -->
      <div class="editboardmenu" *ngIf="dataService.editTaskMenu">
        <!-- float menu -->
        <div class="floatmenu">
          <p class="editboard" (click)="dataService.editTask()">Edit Task</p>
          <p class="deleteboard" (click)="dataService.deleteTask()">
            Delete Task
          </p>
        </div>
      </div>
    </div>

    <div formArrayName="subtasks">
      <h4>Subtask ({{ completedSubtask }} out of {{ totalSubtask }})</h4>
      <div
        *ngFor="let subtask of subtasks.controls; let i = index"
        [formGroupName]="i"
      >
        <input type="text" formControlName="title" />
        <label>
          <input type="checkbox" formControlName="isCompleted" />
          Completed
        </label>
      </div>
    </div>

    <!-- status -->
    <div>
      <label for="status">Task Status</label>
      <select
        id="status"
        formControlName="status"
        [ngModel]="dataService.columName"
      >
        <!-- loads current status in the task parent active Board -->
        <option
          *ngFor="let task of dataService.boardColumns"
          [value]="task.name"
        >
          {{ task.name }}
        </option>
      </select>
    </div>

    <button (click)="updateTask()">Update Task</button>
  </form>
</div>
